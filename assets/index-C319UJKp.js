import{r,u as S,a as C,j as e,S as f,L as P}from"./index-u5a8Z9c2.js";import{C as F,a as E}from"./circle-check-Ctm6ejyF.js";function M(){const[o,b]=r.useState(""),[t,j]=r.useState(""),[l,g]=r.useState(""),[c,w]=r.useState(""),[n,d]=r.useState("male"),[m,a]=r.useState(""),[u,x]=r.useState(""),[i,p]=r.useState(!1),{signUp:z,user:N,loading:v}=S(),y=C();if(v)return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(f,{size:"lg"})});if(N)return y({to:"/"}),null;const k=async s=>{if(s.preventDefault(),a(""),x(""),t!==l){a("Hasła nie są identyczne");return}if(t.length<6){a("Hasło musi mieć co najmniej 6 znaków");return}p(!0);const{error:h}=await z(o,t,c,n);p(!1),h?a(h.message):x("Konto zostało utworzone! Sprawdź skrzynkę mailową, aby potwierdzić rejestrację.")};return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-zinc-200 p-8 w-xl max-w-md",children:[e.jsxs("div",{className:"p-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-zinc-700 text-center mb-2",children:"Rejestracja"}),e.jsx("p",{className:"text-zinc-600 text-center mb-4",children:"Stwórz konto, aby zarządzać swoimi donacjami"})]}),u?e.jsxs("div",{className:"bg-green-50 text-green-600 px-4 py-5 rounded-md text-sm text-center flex flex-col items-center",children:[e.jsx(F,{className:"size-8 mb-3"}),e.jsx("span",{className:"max-w-xs",children:u})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",required:!0,value:o,onChange:s=>b(s.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"twoj@email.pl"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Hasło"}),e.jsx("input",{type:"password",id:"password",required:!0,value:t,onChange:s=>j(s.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Minimum 6 znaków"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Potwierdź hasło"}),e.jsx("input",{type:"password",id:"confirmPassword",required:!0,value:l,onChange:s=>g(s.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Powtórz hasło"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Imię"}),e.jsx("input",{type:"text",id:"firstName",required:!0,value:c,onChange:s=>w(s.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Twoje imię"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Płeć"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center p-3 border border-zinc-300 rounded-md cursor-pointer hover:bg-zinc-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"gender",value:"male",checked:n==="male",onChange:s=>d(s.target.value),className:"w-4 h-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"ml-3 text-zinc-700",children:"Mężczyzna"})]}),e.jsxs("label",{className:"flex items-center p-3 border border-zinc-300 rounded-md cursor-pointer hover:bg-zinc-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"gender",value:"female",checked:n==="female",onChange:s=>d(s.target.value),className:"w-4 h-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"ml-3 text-zinc-700",children:"Kobieta"})]})]})]}),m&&e.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-md text-sm flex items-center gap-2",children:[e.jsx(E,{className:"size-5 shrink-0"}),e.jsx("span",{children:m})]}),e.jsxs("button",{type:"submit",disabled:i,className:"w-full bg-red-600 text-white font-semibold py-3 rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i&&e.jsx(f,{size:"sm"}),i?"Rejestrowanie...":"Zarejestruj się"]})]}),e.jsxs("p",{className:"mt-8 text-center text-sm text-zinc-600",children:["Masz już konto?"," ",e.jsx(P,{to:"/login",className:"font-semibold text-red-600 hover:text-red-700",children:"Zaloguj się"})]})]})]})}export{M as component};
