import{r as t,u as w,a as N,j as e,S as u,L as v}from"./index-DGgLp9iC.js";import{C as y,a as z}from"./circle-check-DiRaqyij.js";function L(){const[r,x]=t.useState(""),[o,p]=t.useState(""),[n,i]=t.useState(""),[l,d]=t.useState(""),[a,c]=t.useState(!1),{signIn:h,user:g,loading:b}=w(),m=N();if(b)return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(u,{size:"lg"})});if(g)return m({to:"/dashboard"}),null;const j=async s=>{s.preventDefault(),i(""),d(""),c(!0);const{error:f}=await h(r,o);c(!1),f?i("Nieprawidłowy email lub hasło"):(d("Zalogowano pomyślnie. Za chwilę przeniesiemy Cię do panelu."),setTimeout(()=>{m({to:"/dashboard"})},5e3))};return e.jsxs("div",{className:"bg-white w-xl max-w-md rounded-lg shadow-sm border border-zinc-200 p-8",children:[e.jsxs("div",{className:"p-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-zinc-700 text-center mb-2",children:"Logowanie"}),e.jsx("p",{className:"text-zinc-600 text-center mb-4",children:"Witaj ponownie! Zaloguj się do swojego konta"})]}),l?e.jsxs("div",{className:"bg-green-50 text-green-600 px-4 py-5 rounded-md text-sm text-center flex flex-col items-center",children:[e.jsx(y,{className:"size-8 mb-3"}),e.jsx("span",{className:"max-w-xs",children:l})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",required:!0,value:r,onChange:s=>x(s.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"twoj@email.pl"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Hasło"}),e.jsx("input",{type:"password",id:"password",required:!0,value:o,onChange:s=>p(s.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Twoje hasło"})]}),n&&e.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-md text-sm flex items-center gap-2",children:[e.jsx(z,{className:"size-5 shrink-0"}),e.jsx("span",{children:n})]}),e.jsxs("button",{type:"submit",disabled:a,className:"w-full bg-red-600 text-white font-semibold py-3 rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a&&e.jsx(u,{size:"sm"}),a?"Logowanie...":"Zaloguj się"]})]}),e.jsxs("p",{className:"mt-8 text-center text-sm text-zinc-600",children:["Nie pamiętasz hasła?"," ",e.jsx(v,{to:"/forgot-password",className:"font-semibold text-red-600 hover:text-red-700",children:"Zresetuj hasło"})]})]})]})}export{L as component};
